<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Choose Borrow Time</title>
<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 0;
}

header {
  background-color: #00ADEF; /* Example color */
  padding: 10px;
  text-align: center;
  color: white;
}

.main-content {
  padding: 20px;
  text-align: center;
}

.instrument-selected {
  font-size: 24px;
  color: #333;
  margin-bottom: 20px;
}

.time-selection {
  margin: 20px;
}

button {
  padding: 10px 20px;
  margin: 10px;
  font-size: 18px;
}

</style>
</head>
<body>
<header>
  <h1>Select Borrowing Time</h1>
</header>

<main class="main-content">
  <div id="instrument-selected" class="instrument-selected"></div>
  
  <div class="time-selection">
    <label for="borrow-time">Choose a time:</label>
    <!-- 加上 min 和 max 屬性限制可選的範圍 -->
    <input type="datetime-local" id="borrow-time" name="borrow-time" min="" max="" />
  </div>
  
  <button id="confirm-time">Confirm</button>
</main>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const params = new URLSearchParams(window.location.search);
  const instrumentName = params.get('instrument');
  const instrumentDisplay = document.getElementById('instrument-selected');
  
  if (instrumentName) {
    instrumentDisplay.textContent = `You have selected to borrow: ${instrumentName}`;
  } else {
    instrumentDisplay.textContent = 'No instrument selected.';
  }

  // 設定 min 為當下時間
  const now = new Date();
  const minDate = now.toISOString().slice(0,16); // 格式為 "YYYY-MM-DDTHH:mm"
  document.getElementById('borrow-time').setAttribute('min', minDate);

  // 設定 max 為當下一天後的時間
  const tomorrow = new Date();
  tomorrow.setDate(tomorrow.getDate() + 1);
  const maxDate = tomorrow.toISOString().slice(0,16);
  document.getElementById('borrow-time').setAttribute('max', maxDate);

  const confirmButton = document.getElementById('confirm-time');
  confirmButton.addEventListener('click', function() {
    const borrowTime = document.getElementById('borrow-time').value;
    if (borrowTime) {
      alert(`You have chosen to borrow the ${instrumentName} at ${borrowTime}`);
      // 在這裡處理借用邏輯，例如更新資料庫或導向確認頁面
    } else {
      alert('Please select a time.');
    }
  });
});
</script>

</body>
</html>
