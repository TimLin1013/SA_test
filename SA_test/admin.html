<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <title>admin</title>
    <style>
     header {
            background-color: #206546;
            padding: 10px;
            text-align: center;
        }
     </style>
</head>
<body>
    <h1>System Admin</h1>
    <table id="adminTable">
        <!-- 系統管理者列表 -->
        <tr>
            <th>id</th>
            <th>name</th>
            <th>email</th>
            <th>password</th>
            <th>phone</th>
            <th>group</th>
        </tr>
        <!-- 管理者數據將在此處動態填充 -->
    </table>	
    <script>	
    	function getAlladmin() {
            $.ajax({
                type: "GET",
                url: "api/member.do",
                crossDomain: true,
                cache: false,
                dataType: 'json',
                timeout: 5000,
                success: function (response) {
                    if(response.status == 200){
                        updateadmin(response.response.data);
                    }
                    console.log(response);
                },
                error: function () {
                    alert("無法連線到伺服器！");
                }
            });
        }

        // 假設您已經從後端獲取了系統管理者數據，並以 JSON 格式保存在 admins 中
        const admins = [
            // 系統管理者數據的範例，您需要根據實際情況填充
            {
                "id": 1,
                "name": "系統管理者1",
                "email": "admin1@example.com",
                "password": "password1",
                "phone": "1234567890",
                "group": "Group A"
            },
            {
                "id": 2,
                "name": "系統管理者2",
                "email": "admin2@example.com",
                "password": "password2",
                "phone": "9876543210",
                "group": "Group B"
            }
            // 其他管理者數據...
        ];

        // 填充表格
        const adminTable = document.getElementById("adminTable");
        admins.forEach(admin => {
            const row = adminTable.insertRow(-1);
            row.insertCell(0).innerHTML = admin.name;
            row.insertCell(1).innerHTML = admin.email;
            row.insertCell(2).innerHTML = admin.password;
            row.insertCell(3).innerHTML = admin.phone;
            row.insertCell(4).innerHTML = admin.group;

            const editButton = document.createElement("button");
            editButton.innerHTML = "edit";
            editButton.onclick = function() {
                // 處理修改按鈕的操作，可能打開一個模態框或頁面進行修改
                // 此處需根據您的後端架構和需求進行相應處理
                console.log("Edit Admin：" + admin.name);
            };
            row.insertCell(5).appendChild(editButton);

            const deleteButton = document.createElement("button");
            deleteButton.innerHTML = "delete";
            deleteButton.onclick = function() {
                // 確認是否要刪除
                if (confirm("Are you sure to delete this admin？")) {
                    // 處理刪除按鈕的操作，可能向後端發送刪除請求
                    // 此處需根據您的後端架構和需求進行相應處理
                    console.log("Delete Admin：" + admin.name);
                    // 在此添加向後端發送刪除請求的代碼
                    // 如需刪除該行，可使用以下代碼
                    row.remove();
                }
            };
            row.insertCell(6).appendChild(deleteButton);
        });
    </script>
</body>
</html>