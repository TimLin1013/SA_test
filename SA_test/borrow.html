<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <title>Instrument Catalog</title>
    <!-- Styles omitted for brevity -->
</head>

<body>
    <header>
        <input type="search" placeholder="Search...">
    </header>

    <main>
        <!-- Category and product structure omitted for brevity -->

        <script>
            document.addEventListener('DOMContentLoaded', function () {
                // Existing search functionality code omitted for brevity
            });

            function getAllInstrument() {
                // Existing AJAX request code omitted for brevity
            }

            function updateInstrument(data) {
                // Existing update instrument code omitted for brevity
            }

            $(document).ready(function() {
                getAllInstrument();
                $('.product img').on('click', function(event) {
                    var instrumentName = $(this).closest('.product').find('h3').text();
                    var quantityText = $(this).closest('.product').find('p').text();

                    if (quantityText.includes('Quantity: 0')) {
                        alert("Sorry, this instrument is out of stock.");
                    } else {
                        window.location.href = 'chooseBorrowTime.html?instrument=' + encodeURIComponent(instrumentName);
                    }
                });
            });
        </script>
    </main>

    <footer>
        <button>Previous</button>
        <button>Next</button>
    </footer>
</body>

</html>
